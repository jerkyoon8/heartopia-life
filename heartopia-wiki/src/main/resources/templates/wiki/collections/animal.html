<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wild Animal Collection - Heartopia Wiki</title>
    <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Common CSS -->
    <link rel="stylesheet" href="/css/common.css">
    <style>
        :root {
            --content-bg: rgba(251, 251, 251, 0.95);
            --border-color: #a7d7f9;
            --link-color: #0645ad;
            --accent-color: #FF8A65;
        }

        /* body style moved to common.css */

        /* Common Layout Wrapper overridden or used from common.css? Using common.css but keeping specific styles if needed */
        /* .mw-body definition in common.css covers basic layout. Removing duplicate simple definition. */

        .page-header {
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .fish-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .fish-card {
            background: #fff;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .fish-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .fish-image-wrapper {
            width: 100%;
            height: 150px;
            background: #fff3e0;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .fish-image-wrapper img {
            width: 100px;
            height: 100px;
            object-fit: contain;
        }

        .fish-habitat {
            display: inline-block;
            background: #fff3e0;
            color: #e64a19;
            padding: 2px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            margin-bottom: 10px;
        }

        .fish-stats {
            width: 100%;
            font-size: 0.9rem;
            border-collapse: collapse;
        }

        .fish-stats td {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .stat-label {
            color: #777;
            width: 120px;
        }

        .stat-value {
            color: #333;
            font-weight: 600;
            text-align: right;
        }
    </style>
</head>

<body>
    <!-- Navbar (Common Fragment) -->
    <div th:replace="~{fragments/header :: header}"></div>
    <div class="mw-body">
        <div class="page-header"><i class="fas fa-paw fa-2x text-warning"></i>
            <h1>야생 동물 도감 (Wild Animal Collection)</h1>
        </div>
        <div class="fish-grid">
            <div th:each="animal : ${animalList}" class="fish-card">
                <div class="fish-image-wrapper">
                    <img th:if="${animal.imageUrl != null}" th:src="${animal.imageUrl}" th:alt="${animal.name}"
                        style="width: 120px; height: 120px; object-fit: contain;">
                    <i th:unless="${animal.imageUrl != null}" class="fas fa-paw fa-4x text-warning"
                        style="opacity: 0.7;"></i>
                </div>
                <div class="text-center">
                    <a href="#" class="h5 fw-bold text-decoration-none text-dark" th:text="${animal.name}"></a><br>
                    <a th:href="@{/wiki/map(cat='animal', name=${animal.name})}" class="wiki-item-tag location-link">
                        <i class="fas fa-map-marker-alt me-1"></i>
                        <span th:text="${animal.location}"></span>
                    </a>
                    <p class="text-muted small" th:text="${animal.description}"></p>
                </div>
                <table class="fish-stats">
                    <tr>
                        <td class="stat-label"><i class="fas fa-utensils me-2"></i>선호 음식</td>
                        <td class="stat-value text-danger" th:text="${animal.favoriteFood}"></td>
                    </tr>
                    <tr>
                        <td class="stat-label"><i class="fas fa-cloud-sun me-2"></i>좋아하는 날씨</td>
                        <td class="stat-value">
                            <span th:if="${animal.favoriteWeather.contains('맑')}" title="맑음"><i
                                    class="fas fa-sun text-warning me-1"></i></span>
                            <span th:if="${animal.favoriteWeather.contains('비')}" title="비"><i
                                    class="fas fa-cloud-showers-heavy text-primary me-1"></i></span>
                            <span th:if="${animal.favoriteWeather.contains('무지개')}" title="무지개"><i
                                    class="fas fa-rainbow text-info me-1"></i></span>
                            <small class="text-muted" th:text="${animal.favoriteWeather}"></small>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <!-- Footer (Common Fragment) -->
    <div th:replace="~{fragments/footer :: footer}"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</html>